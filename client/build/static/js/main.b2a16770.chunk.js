(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),o=n.n(c),i=n(8),s=n.n(i),u=(n(16),n(17),n(4)),l=n(7),d=n(6),j=n(2),b=n.n(j),f=n(5),p=n(3),O=function(){var e=Object(f.a)(b.a.mark((function e(t,n,r){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:r,headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(n)});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),h=function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:n,headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=Object(p.b)("addTodo",function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/createtodo",t,"post");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(p.b)("gettodo",Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("/gettodos","get");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),m=Object(p.b)("deletetodo",function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("/remove/".concat(t),"delete");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(p.b)("updatetodo",function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,O("/update/".concat(t.id),t,"put");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k=Object(p.c)({name:"todo",initialState:[],reducers:{},extraReducers:(r={},Object(d.a)(r,v.fulfilled,(function(e,t){t.payload.message&&e.push(t.payload.message)})),Object(d.a)(r,v.pending,(function(e,t){})),Object(d.a)(r,g.fulfilled,(function(e,t){var n=t.payload.message;return console.log(n),n})),Object(d.a)(r,m.fulfilled,(function(e,t){var n=t.payload.message;if(n)return e.filter((function(e){return e._id!==n._id}))})),Object(d.a)(r,x.fulfilled,(function(e,t){return t.payload.message})),r)}).reducer,y={token:"",loading:!1,error:""},w=Object(p.b)("signupuser",function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y,e.next=3,O("/signup",t,"post");case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S=Object(p.b)("signinuser",function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/signin",t,"post");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=Object(p.c)({name:"user",initialState:y,reducers:{addToken:function(e,t){e.token=localStorage.getItem("token")},Logout:function(e,t){e.token=null,localStorage.removeItem("token")}},extraReducers:(a={},Object(d.a)(a,w.fulfilled,(function(e,t){e.loading=!1,t.payload.error?e.error=t.payload.error:e.error=t.payload.message})),Object(d.a)(a,w.pending,(function(e,t){e.loading=!0})),Object(d.a)(a,S.fulfilled,(function(e,t){e.loading=!1,t.payload.error?e.error=t.payload.error:(e.token=t.payload.token,localStorage.setItem("token",e.token))})),Object(d.a)(a,S.pending,(function(e,t){e.loading=!0})),a)}),C=N.actions,T=C.addToken,D=C.Logout,E=N.reducer,A=n(1);var I=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)("ADD TODO"),o=Object(l.a)(a,2),i=o[0],s=o[1],d=Object(c.useState)(""),j=Object(l.a)(d,2),b=j[0],f=j[1],p=Object(u.b)(),O=Object(u.c)((function(e){return e.todo}));return Object(c.useEffect)((function(e){p(g())}),[p]),Object(A.jsxs)("div",{children:[Object(A.jsx)("input",{type:"text",placeholder:"Enter todo here",value:n,onChange:function(e){return r(e.target.value)}}),Object(A.jsx)("button",{className:"btn",onClick:function(){"ADD TODO"===i?function(e){p(v({todo:e}))}(n):function(e,t){p(x({id:e,todo:t}))}(b,n)},children:i}),Object(A.jsxs)("ul",{className:"collection with-header",children:[Object(A.jsx)("li",{className:"collection-header",children:Object(A.jsx)("h4",{children:"Todo List"})}),O.map((function(e){return Object(A.jsx)("li",{className:"collection-item",children:Object(A.jsxs)("div",{children:[e.todo,Object(A.jsxs)("a",{href:"#!",className:"secondary-content",children:[Object(A.jsx)("i",{className:"material-icons",onClick:function(){s("UPDATE TODO"),f(e._id)},children:"edit"}),Object(A.jsx)("i",{className:"material-icons",onClick:function(){var t;t=e._id,p(m(t))},children:"delete"})]})]})},e._id)}))]}),Object(A.jsx)("button",{className:"btn",onClick:function(){p(D())},children:"Logout"})]})};var _=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.user})),n=t.loading,r=t.error,a=Object(c.useState)(),o=Object(l.a)(a,2),i=o[0],s=o[1],d=Object(c.useState)(),j=Object(l.a)(d,2),b=j[0],f=j[1],p=Object(c.useState)("Sign in"),O=Object(l.a)(p,2),h=O[0],v=O[1];return Object(A.jsxs)("div",{children:[n&&Object(A.jsx)("div",{className:"progress",children:Object(A.jsx)("div",{className:"indeterminate"})}),Object(A.jsxs)("h1",{children:["Please ",h]}),Object(A.jsx)("input",{type:"email",placeholder:"Enter Email",value:i,onChange:function(e){return s(e.target.value)}}),Object(A.jsx)("input",{type:"password",placeholder:"Enter Password",value:b,onChange:function(e){return f(e.target.value)}}),r&&Object(A.jsx)("h6",{style:{color:"red"},children:r}),"Sign in"===h?Object(A.jsx)("h6",{onClick:function(){v("Sign up")},children:" Don't have an account?"}):Object(A.jsx)("h6",{onClick:function(){v("Sign in")},children:" Already have an account?"}),Object(A.jsx)("button",{className:"btn",onClick:function(){e("Sign in"===h?S({email:i,password:b}):w({email:i,password:b}))},children:h})]})};var L=function(){var e=Object(u.c)((function(e){return e.user})).token,t=Object(u.b)();return Object(c.useEffect)((function(){t(T())}),[t]),Object(A.jsx)("div",{className:"App",children:null===e?Object(A.jsx)(_,{}):Object(A.jsx)(I,{})})},J=Object(p.a)({reducer:{user:E,todo:k}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(A.jsx)(o.a.StrictMode,{children:Object(A.jsx)(u.a,{store:J,children:Object(A.jsx)(L,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.b2a16770.chunk.js.map